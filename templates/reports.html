{% extends "base.html" %}

{% block title %}التقارير المفصلة - نظام رايزو للموارد البشرية{% endblock %}

{% block content %}
<div class="page-header">
    <h1><i class="fas fa-chart-bar"></i> التقارير المفصلة</h1>
    <p class="mb-0">تقارير وإحصائيات شاملة للنظام</p>
</div>

<div class="row">
    <!-- تقرير الموظفين -->
    <div class="col-md-6 mb-4">
        <div class="card">
            <div class="card-header">
                <h5><i class="fas fa-users"></i> تقرير الموظفين</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-6">
                        <div class="text-center">
                            <h3 class="text-primary">{{ total_employees }}</h3>
                            <p class="mb-0">إجمالي الموظفين</p>
                        </div>
                    </div>
                    <div class="col-6">
                        <h6>التوزيع حسب النوع:</h6>
                        {% for type, count in employees_by_type.items() %}
                        <div class="d-flex justify-content-between">
                            <span>{{ type }}:</span>
                            <span class="badge bg-primary">{{ count }}</span>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- تقرير الحضور -->
    <div class="col-md-6 mb-4">
        <div class="card">
            <div class="card-header">
                <h5><i class="fas fa-clock"></i> تقرير الحضور</h5>
            </div>
            <div class="card-body text-center">
                <h3 class="text-success">{{ attendance_today }}</h3>
                <p class="mb-0">حضور اليوم</p>
            </div>
        </div>
    </div>
    
    <!-- تقرير الرواتب -->
    <div class="col-md-6 mb-4">
        <div class="card">
            <div class="card-header">
                <h5><i class="fas fa-money-bill"></i> تقرير الرواتب</h5>
            </div>
            <div class="card-body text-center">
                <h3 class="text-warning">{{ payroll_count }}</h3>
                <p class="mb-0">كشوف رواتب الشهر الحالي</p>
            </div>
        </div>
    </div>
    
    <!-- تقرير الوثائق -->
    <div class="col-md-6 mb-4">
        <div class="card">
            <div class="card-header">
                <h5><i class="fas fa-file-alt"></i> تقرير الوثائق</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-6 text-center">
                        <h4 class="text-info">{{ total_documents }}</h4>
                        <p class="mb-0">إجمالي الوثائق</p>
                    </div>
                    <div class="col-6 text-center">
                        <h4 class="text-danger">{{ confidential_documents }}</h4>
                        <p class="mb-0">وثائق سرية</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- تقرير الأصول -->
    <div class="col-md-6 mb-4">
        <div class="card">
            <div class="card-header">
                <h5><i class="fas fa-laptop"></i> تقرير الأصول</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-6 text-center">
                        <h4 class="text-secondary">{{ total_assets }}</h4>
                        <p class="mb-0">إجمالي الأصول</p>
                    </div>
                    <div class="col-6 text-center">
                        <h4 class="text-success">{{ assigned_assets }}</h4>
                        <p class="mb-0">أصول مخصصة</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h5><i class="fas fa-download"></i> تصدير التقارير</h5>
            </div>
            <div class="card-body">
                <div class="d-grid gap-2 d-md-flex">
                    <button class="btn btn-success" onclick="window.print()">
                        <i class="fas fa-print"></i> طباعة التقرير
                    </button>
                    <button class="btn btn-primary" onclick="exportToPDF()">
                        <i class="fas fa-file-pdf"></i> تصدير PDF
                    </button>
                    <button class="btn btn-info" onclick="exportToExcel()">
                        <i class="fas fa-file-excel"></i> تصدير Excel
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function exportToPDF() {
    alert('ميزة تصدير PDF قيد التطوير');
}

function exportToExcel() {
    alert('ميزة تصدير Excel قيد التطوير');
}
</script>
{% endblock %}